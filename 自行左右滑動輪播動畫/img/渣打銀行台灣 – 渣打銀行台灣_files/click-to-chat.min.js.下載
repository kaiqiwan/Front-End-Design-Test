!function i(c,r,s){function l(e,t){if(!r[e]){if(!c[e]){var a="function"==typeof require&&require;if(!t&&a)return a(e,!0);if(u)return u(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var n=r[e]={exports:{}};c[e][0].call(n.exports,function(t){return l(c[e][1][t]||t)},n,n.exports,i,c,r,s)}return r[e].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o,c=(o=t("../../../vendor/chatbot"))&&o.__esModule?o:{default:o},d=t("./config");function n(t,e){for(var a=0;a<e.length;a++){var o=e[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,a,o;return e=t,(a=[{key:"init",value:function(){var o=this;if(this.chatbot=new c.default,this.module="m-click-to-chat",this.moduleDOM=jQuery("."+this.module),window.C2C={},this.is_mobile_device="m"===Utils.getDeviceDetails().deviceInfo,0!=this.moduleDOM.length){o.setDefaultOptions(),!0===this.is_mobile_device?this.moduleDOM.removeAttr("data-video").removeAttr("data-audio"):this.moduleDOM.removeAttr("data-call").removeAttr("data-call-hotline");var n=[],i=[];jQuery.each(this.moduleDOM.data(),function(t,e){switch(t=Utils.camelCasing(t)){case"video":n[0]=e,i[0]="video";break;case"audio":n[2]=e,i[1]="audio";break;case"text":n[1]=e,i[2]="text";break;case"call":n[3]=e,i[3]="call";break;case"background":o.c2cBtnOptions.chatStyle.backgroundColor=e;break;case"hover":o.c2cBtnOptions.chatStyle.hoverColor=e;break;default:var a=t.replace("Url","URL");o.c2cBtnOptions[a]=e,o.c2cAPIOptions[a]=e}}),this.chatbotOptions=this.chatbot.setChatbotOptions(this.moduleDOM),0<n.length&&(this.c2cBtnOptions.chatOptions=n,this.c2cBtnOptions.orderMenu=i.join().replace(/\,/g,", ")),this.c2cPageSetup(),this.c2cModalSetup(),this.c2cLPage.init(this,this.c2cBtnOptions,this.c2cAPIOptions,this.chatbotOptions),this.c2cBtnOptions.helpText||jQuery(".c2c_help_text").addClass("hide"),this.c2cBtnOptions.buttonDisabled||(window.C2C.video=function(){o.c2cLPage.openChat("V")},window.C2C.chat=function(){o.c2cLPage.openChat("C")},window.C2C.voice=function(){o.c2cLPage.openChat("A")},window.C2C.buttonchat=function(){o.c2cLPage.openChat("C")},window.C2C.clicktocall=function(t){o.c2cModal.show(t)})}}},{key:"setDefaultOptions",value:function(){var t=Utils.getCurrentCountry(),e=Utils.getCurrentLanguage(),a=Utils.getCurrentEnvironment(),o=d.objUrl[0]+"://"+d.objUrl[1]+"."+d.objUrl[2]+"."+d.objUrl[3]+"/";Utils.constants.PRODUCTION!==a&&(o=d.objUrl[0]+"://"+d.objUrl[16]+"-"+d.objUrl[1]+"."+d.objUrl[2]+"."+d.objUrl[3]+"/");var n=o+t+"/interact/Client/Intermediate",i=o+t+"/interact/ProxyServer/Services/RestApiService.svc/execute/queueinformation/getagentscount",c=o+t+"/interact/ProxyServer/Services/RestApiService.svc/execute/queueinformation/getagents",r=o+t+"/interact/ProxyServer/Services/RestApiService.svc/execute/workinghoursavailability/getagentavailability",s=d.objUrl[0]+"://"+d.objUrl[28]+"."+d.objUrl[2]+"."+d.objUrl[3]+"/"+d.objUrl[29]+"/"+d.objUrl[30]+"/"+d.objUrl[31]+"/"+d.objUrl[32]+"/"+d.objUrl[33]+"/",l=d.objUrl[0]+"://"+d.objUrl[28]+"."+d.objUrl[2]+"."+d.objUrl[3]+"/"+d.objUrl[29]+"/"+d.objUrl[30]+"/"+d.objUrl[34]+"/";Utils.constants.PRODUCTION!==a&&(s=d.objUrl[0]+"://"+d.objUrl[35]+"."+d.objUrl[36]+"."+d.objUrl[3]+"/"+d.objUrl[29]+"/"+d.objUrl[30]+"/"+d.objUrl[31]+"/"+d.objUrl[32]+"/"+d.objUrl[33]+"/",l=d.objUrl[0]+"://"+d.objUrl[35]+"."+d.objUrl[36]+"."+d.objUrl[3]+"/"+d.objUrl[29]+"/"+d.objUrl[30]+"/"+d.objUrl[34]+"/");var u={c2cAPIOptions:{c2cEnable:!0,triggerTime:0,isLive:!0,chatURL:n,agentCountURL:i,agentListURL:c,agentAvailabilityURL:r},c2cBtnOptions:{layout:"bottomRight",buttonMode:!1,buttonDisabled:!1,iconsPath:s,fontPath:l,fontLocal:!0,fontName:"SC Sans Web-Regular",openChatMode:"click",c2cText:"Click to Chat",chatOptions:["Video Chat","Audio Chat","Text Chat","Click to Call"],orderMenu:"video, audio, text, call",chatStyle:{backgroundColor:"#00b7fb",hoverColor:"#028fc1"},animationType:"none",helpText:!1,checkAgentAvailability:!1,redirectToURLpath:""}};if("zh"!==Utils.getCurrentLanguage()||"tw"!==Utils.getCurrentCountry()&&"hk"!==Utils.getCurrentCountry()||(u.c2cBtnOptions.c2cText="請點選",u.c2cBtnOptions.chatOptions=["視像","語音對話","線上對話","Click to Call"]),d.c2cConfig[t]&&e){var h=d.c2cConfig[t][e];h&&h[a]&&(u=Object.assign(u,h[a]))}this.c2cAPIOptions=Object.assign({},u.c2cAPIOptions),this.c2cBtnOptions=Object.assign({},u.c2cBtnOptions),this.chatbotOptions=this.chatbot.chatbotOptions}},{key:"c2cModalSetup",value:function(){var t=jQuery("body"),a=jQuery(['<div class="c2c_modal_wrapper" >','<div class="c2c_modal_content_wrapper">','<div class="c2c_modal_content">','<div class="c2c_modal_content_title">Alert!</div>','<div class="c2c_modal_content_message"></div>',"</div>","</div>",'<div class="c2c_modal_buttons">','<input type="button" value="Cancel" class="c2c_cancel_btn"/>','<input type="button" value="Proceed" class="c2c_proceed_btn"/>',"</div>",'<div class="c2c_modal_close">',"","</div>","</div>"].join(""));a.on("touchmove",function(t){t.preventDefault()}),a.find(".c2c_modal_close, .c2c_cancel_btn").on("click",e),a.find(".c2c_proceed_btn").on("click",function(t){t=t instanceof Function?t:function(){};var e=i.data("cta");e&&(window.location=e,a.fadeOut("hide"));t()});var o=a.find(".c2c_modal_content_title"),n=a.find(".c2c_modal_content_message"),i=a.find(".c2c_proceed_btn"),c=a.find(".c2c_cancel_btn");function e(t){t=t instanceof Function?t:function(){},a.fadeOut("fast"),setTimeout(function(){t()},10)}t.append(a),this.c2cModal={$modal:a,test:"test",show:function(t){var e;t&&((e=t).hasOwnProperty("modalTitle")&&o.html(e.modalTitle),e.hasOwnProperty("modalMessage")&&n.html(e.modalMessage),e.hasOwnProperty("callHotline")&&i.attr("data-cta","tel:"+e.callHotline),e.hasOwnProperty("modalCancelLbl")&&c.val(e.modalCancelLbl),e.hasOwnProperty("modalCtaLbl")&&i.val(e.modalCtaLbl)),setTimeout(function(){a.fadeIn("fast")},10)},hide:e}}},{key:"c2cPageSetup",value:function(){var p=this;this.c2cLPage={btnMode:null,setting:null,agentCountData:null,agentCount:null,sas_popupwindow:null,agentcounturl:null,checkAgentAvailability:null,agentAvailabilityData:{},agentavailabilityurl:null,init:function(t,e,a,o){var n=this;n.btnMode=e.buttonMode,n.btnDisabled=e.buttonDisabled,n.setting=a,n.chatbotOnly=!1,n.checkAgentAvailability=e.checkAgentAvailability||!1,n.agentavailabilityurl=n.setting.agentAvailabilityURL||"",n.redirectToURLpath=e.redirectToURLpath||"";var i=e.chatOptions.filter(function(t){return""!==t});1==i.length&&i[0]==t.moduleDOM.data().text&&(n.chatbotOnly=!0),Utils.getCurrentEnvironment()===Utils.constants.PRODUCTION&&1!=n.setting.isLive||n.load(),t.chatbot.chatbotPresent&&t.chatbot.generateChatbotElements(o,n.chatbotOnly)},load:function(){var t=this;if(0==t.btnMode||1==t.btnDisabled||1==t.checkAgentAvailability)void 0!==jQuery("body").clicktochat&&(window.c2c=jQuery("body").clicktochat(p.c2cBtnOptions));else if(1==t.btnMode){var e=t.setting.triggerTime;t.agentcounturl=t.setting.agentCountURL,setTimeout(function(){t.getAgentList()},1e3*e)}},openChat:function(t){var e=10;this.checkAgentAvailability&&(this.getAgentAvailability(),e=4e3,setTimeout(this.postCheckAgentAvailability,3e3)),setTimeout(this.openChatNow(t),e)},openChatNow:function(t){var e=this;if(!e.checkAgentAvailability||e.agentAvailabilityData.IsAvailable)if("C"==t&&p.chatbot.chatbotPresent)p.chatbot.openChatbot();else{var a,o,n,i=screen.width/2-427,c=screen.height/2-240,r="width=854,height=480,left="+i+",top="+c+",resizable=yes,scrollbars=yes"+c+", left="+i,s=e.setting.entryType,l=e.setting.subjectId,u=e.setting.chatURL;if(void 0!==window.ga){var h=window.ga.getAll();for(a=0,o=h.length;a<o;a+=1)"UA-46697978-1"==h[a].get("trackingId")&&(n=h[a].get("clientId"))}var d={mediumType:t,entryType:s,subjectId:l,cvcSessionKey:n,segment:"Mass"};e.openWindowWithPost(u,r,"popup",d)}},postCheckAgentAvailability:function(){if(!this.agentAvailabilityData.hasOwnProperty("IsAvailable")||!this.agentAvailabilityData.IsAvailable){var t=screen.width/2-512,e=screen.height/2-260,a="width=1024,height=520,left="+t+",top="+e+",resizable=yes,scrollbars=yes"+e+", left="+t;window.open(this.redirectToURLpath,"Popup",a)}},openWindowWithPost:function(t,e,a,o){var n=document.createElement("form");for(var i in n.setAttribute("method","post"),n.setAttribute("action",t),n.setAttribute("target","Popup"),o)if(o.hasOwnProperty(i)){var c=document.createElement("input");c.type="hidden",c.name=i,c.value=o[i],n.appendChild(c)}document.body.appendChild(n),this.sas_popupwindow&&this.sas_popupwindow.close(),this.sas_popupwindow=window.open(t,"Popup",e),n.submit(),document.body.removeChild(n)},getAgentList:function(){var e=this,t=e.setting.subjectId;jQuery.post(e.setting.agentCountURL,JSON.stringify({Subject:t,Channel:"C"}),function(t){e.agentCountData=t,e.onAgentCountLoad()},"json")},onAgentCountLoad:function(){this.agentCount=this.agentCountData.Count,0<this.agentCount&&void 0!==jQuery("body").clicktochat&&(window.c2c=jQuery("body").clicktochat(p.c2cBtnOptions))},getAgentAvailability:function(){var e=this,t=e.setting.entryType,a=e.setting.subjectId;jQuery.post(e.setting.agentAvailabilityURL,JSON.stringify({EntryType:t,MediumType:"C",SubjectId:a}),function(t){e.agentAvailabilityData=t},"json").fail(function(){e.agentAvailabilityData.IsAvailable=!1})}}}}])&&n(e.prototype,a),o&&n(e,o),t}());i.init();var r=i;a.default=r},{"../../../vendor/chatbot":3,"./config":2}],2:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.c2cConfig=a.objUrl=void 0;var o=["https","www","sc","com","sg","interact","Client","Intermediate","ProxyServer","Services","RestApiService","svc","execute","queueinformation","getagentscount","getagents","test","hk","workinghoursavailability","getagentavailability","hkwpaplbk01","zone1","scb","net","cnwvaplbk01","cn","twwvaplbk01","tw","av","assets","global","images","modules","click-to-chat","fonts","preview","standardchartered","ibank","online"],n={sg:{en:{production:{c2cAPIOptions:{chatURL:(a.objUrl=o)[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[4]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[4]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[4]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15],subjectId:"SG_PERSONAL_CONTACT_US",entryType:"SG_CONTACT",workGroup:"SG_CONTACT",isLive:!0}},preview:{c2cAPIOptions:{chatURL:o[0]+"://"+o[16]+"-"+o[1]+"."+o[2]+"."+o[3]+"/"+o[4]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[16]+"-"+o[1]+"."+o[2]+"."+o[3]+"/"+o[4]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[16]+"-"+o[1]+"."+o[2]+"."+o[3]+"/"+o[4]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15],subjectId:"SG_PERSONAL_CONTACT_US",entryType:"SG_CONTACT",workGroup:"SG_CONTACT"}}}},hk:{en:{production:{c2cAPIOptions:{chatURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15],agentAvailabilityURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[18]+"/"+o[19],isLive:!0}},preview:{c2cAPIOptions:{chatURL:o[0]+"://"+o[20]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[17]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[16]+"-"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[16]+"-"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15],agentAvailabilityURL:o[0]+"://"+o[16]+"-"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[18]+"/"+o[19]}}},zh:{production:{c2cAPIOptions:{chatURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15],agentAvailabilityURL:o[0]+"://"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[18]+"/"+o[19],isLive:!0}},preview:{c2cAPIOptions:{chatURL:o[0]+"://"+o[20]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[17]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[16]+"-"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[16]+"-"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15],agentAvailabilityURL:o[0]+"://"+o[16]+"-"+o[1]+"."+o[2]+"."+o[3]+"/"+o[17]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[18]+"/"+o[19]}}}},cn:{en:{preview:{c2cAPIOptions:{chatURL:o[0]+"://"+o[24]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[25]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[24]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[25]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[24]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[25]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15],isLive:!0}}},zh:{preview:{c2cAPIOptions:{chatURL:o[0]+"://"+o[24]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[25]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[24]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[25]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[24]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[25]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15]}}}},tw:{en:{preview:{c2cAPIOptions:{chatURL:o[0]+"://"+o[26]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[27]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[26]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[27]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[26]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[27]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15]}}},zh:{preview:{c2cAPIOptions:{chatURL:o[0]+"://"+o[26]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[27]+"/"+o[5]+"/"+o[6]+"/"+o[7],agentCountURL:o[0]+"://"+o[26]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[27]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[14],agentListURL:o[0]+"://"+o[26]+"."+o[21]+"."+o[22]+"."+o[23]+"/"+o[27]+"/"+o[5]+"/"+o[8]+"/"+o[9]+"/"+o[10]+"."+o[11]+"/"+o[12]+"/"+o[13]+"/"+o[15]}}}}};a.c2cConfig=n},{}],3:[function(t,e,a){"use strict";function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(a,"__esModule",{value:!0}),a.urlObjChat=a.default=void 0,window.onload=function(){window.jQuery||jQuery||console.error("jQuery is not loaded on this page")};var C=["https","preview","standardchartered","com","assets","global","chatbot","hk","en","av","sc","test","www"];a.urlObjChat=C;var U;function o(){this._chatbotURL=C[0]+"://"+C[1]+"."+C[2]+"."+C[3]+"/"+C[4]+"/"+C[5]+"/"+C[6]+"/"+C[7]+"/"+C[8],this._chatbotPresent=!!jQuery(".m-click-to-chat.chatbot").length,this._chatbotElem=jQuery(".m-click-to-chat"),this._chatbotOptions={chatbotUrl:this._chatbotURL,chatbotName:"Stacy",chatbotTitle:"Stacy",chatbotSubtitle:"Typically replies instantly",chatbotAvatarIconName:"chatbot-avatar",chatbotCloseChatIconName:"icon-sc-close-chatbot",chatbotPrompt:"0",chatbotPromptText:"Need help?",chatbotPromptAppearDelay:"0",chatbotPromptDisappearDelay:"15000",chatbotPromptDisappear:"0"},this._livebankParams={"entry-type":this._chatbotElem.data("entry-type"),"subject-id":this._chatbotElem.data("subject-id"),"work-group":this._chatbotElem.data("work-group")}}function O(t){document.querySelector(".c2c_box_wrapper.c2c_right_position").style.bottom=t+"px"}function j(t,e){document.querySelector(".chatbot-iframe").contentWindow.postMessage({langClickEvent:t,showModal:e},"*")}function L(t){t.previousSibling.classList.contains("preloader")&&(t.previousSibling.style.display="none")}Object.defineProperties(o.prototype,{chatbotOptions:{get:function(){return this._chatbotOptions},set:function(t){this._chatbotOptions=t}},chatbotPresent:{get:function(){return this._chatbotPresent},set:function(t){this._chatbotPresent=t}},livebankParams:{get:function(){return this._livebankParams},set:function(t){this._livebankParams=t}}}),o.prototype.setChatbotOptions=function(t){t=void 0!==t?t:jQuery(".m-click-to-chat.chatbot");var a=this.chatbotOptions;return jQuery.each(t.data(),function(t,e){e&&(t=Utils.camelCasing(t))in a&&(a[t]=e)}),this.chatbotOptions=a,this.chatbotOptions},o.prototype.generateChatbotElements=function(t,e){var a=C[9]+"."+C[10]+"."+C[3],o=C[1]+"."+C[2]+"."+C[3],n=-1<window.location.href.split("/")[2].indexOf(o)?o:a,i=jQuery("body"),c=jQuery(".c2c_box_wrapper"),r='<span class="c-icon '+t.chatbotCloseChatIconName+'"></span>',s=t.chatbotUrl.replace("index.html",""),l=[s=s.replace(a,n),"/"!=s.substr(s.length-1)&&-1==s.indexOf("?")?"/":"",-1<s.indexOf("?")?"&":"?","&title=",encodeURIComponent(t.chatbotTitle),"&subtitle=",encodeURIComponent(t.chatbotSubtitle)];for(var u in this.livebankParams){var h=this.livebankParams[u];h&&l.push("&"+u+"="+h)}var d=jQuery(['<div class="chatbot-wrapper" style="display:none">','<div class="chatbot-window">','<div class="chatbot-header-wrapper">','<div class="chatbot-header">','<div class="close-chat">',r,"</div>",'<div class="lang-switch" style="display: none;">','<a class="active lang" href="#" data-lang="en">EN</a>','<a class="active lang" href="#" data-lang="zh-HK">中文</a>',"</div>",'<div class="chat-title">',t.chatbotTitle,"</div>",'<div class="logout-btn" data-lang="en">Log Out</div>','<div class="logout-btn" data-lang="zh-HK">登出</div>',"</div>","</div>",'<div class="chatbot-iframe-wrapper">','<div class="preloader"></div>','<iframe scrolling="yes" title="Chat Widget" frameborder="no" allowfullscreen="" allow="geolocation" data-load-src="'].concat(l).concat(['" class="chatbot-iframe"></iframe>',"</div>","</div>","</div>"]).join(""));if(d.find(".chatbot-iframe").on("load",function(){jQuery(this).prev(".preloader").hide()}),e&&c.length){var p=jQuery(".c2c_box_wrapper .c2c_content");p.hide(),this.generateChatbotIcon(p,n)}else c.find(".option_chat .c2c_text_content").text(t.chatbotName);d.find(".close-chat").click(this.closeChatbot),0===i.find(".chatbot-wrapper").length&&i.prepend(d);var b=!!jQuery(".c2c_mobile_wrapper").length,v=jQuery(".m-atm-branch-locator").length;b&&jQuery(".chatbot-wrapper").addClass("chatbot-m-wrapper"),d.find(".logout-btn").click(function(){document.querySelector(".chatbot-iframe").contentWindow.postMessage("logout","*"),$(".logout-btn").fadeOut()}),d.mouseenter(function(){b||v||(i.css({"overflow-y":"hidden"}),jQuery("html").css({"scrollbar-width":"auto"}),jQuery(this).focus())}),d.mouseleave(function(){b||v||(Utils.getDeviceDetails().userAgentHeader.includes("Firefox")?(i.css({"overflow-y":"auto"}),jQuery("html").css({"scrollbar-width":"none"})):i.css({"overflow-y":"overlay"}))}),window.addEventListener("message",function(t){if(-1<[C[0]+"://"+C[1]+"."+C[2]+"."+C[3],C[0]+"://"+C[9]+"."+C[10]+"."+C[3],C[0]+"://"+C[11]+"-"+C[12]+"."+C[10]+"."+C[3],C[0]+"://"+C[12]+"."+C[10]+"."+C[3]].indexOf(t.origin)&&"object"===w(t.data))if(t.data.hasOwnProperty("startResizeLoop")){if(t.data.startResizeLoop){var e=0,a=setInterval(function(){window.innerHeight!==e?e=window.innerHeight:clearInterval(a)},100);void 0!==U&&clearInterval(U),U=setInterval(function(){var t=window.innerHeight;t<e&&jQuery(document).scrollTop(t+10)},500)}}else t.data.hasOwnProperty("stopResizeLoop")?t.data.stopResizeLoop&&void 0!==U&&clearInterval(U):t.data.hasOwnProperty("switchIframeURL")?t.data.switchIframeURL&&(jQuery(".chatbot-header .lang-switch").hide(),jQuery(".chatbot-iframe").attr("src",t.data.switchIframeURL)):t.data.hasOwnProperty("applyLang")?t.data.applyLang&&(jQuery.each(jQuery(".chatbot-header .lang"),function(){jQuery(this).data("lang")===t.data.applyLang?jQuery(this).removeClass("active"):jQuery(this).addClass("active")}),jQuery(".chatbot-header .lang-switch").show()):t.data.hasOwnProperty("langClickEvent")?t.data.langClickEvent&&t.data.hasOwnProperty("showModal")&&j(t.data.langClickEvent,t.data.showModal):t.data.hasOwnProperty("loginSuccess")?t.data.loginSuccess&&(document.querySelector(".chatbot-iframe").contentWindow.postMessage({loginSuccess:t.data.loginSuccess},"*"),jQuery('.logout-btn[data-lang="'+jQuery(".chatbot-header .lang-switch .lang:not(.active)").data("lang")+'"]').fadeIn()):t.data.hasOwnProperty("logoutSuccess")&&t.data.logoutSuccess&&(jQuery(".logout-btn").fadeOut(),jQuery(".chatbot-header .lang-switch").hide())},!1);var g=document.querySelectorAll(".chatbot-header .lang-switch .lang");for(var y in g)y<g.length&&g[y].addEventListener("click",function(t){j(t.target.getAttribute("data-lang"),!0)});var f=document.querySelector(".m-warning-alert");if(f){var m=setInterval(function(){f.classList.contains("is-closed")?O(33):0<f.clientHeight&&O(f.clientHeight+16.5)},500);f.querySelector(".close-btn").addEventListener("click",function(){clearInterval(m),O(33)})}window.onload=function(){var t=document.getElementsByClassName("chatbot-iframe")[0];t.hasAttribute("data-load-src")&&(t.onload=function(){L(t)},setTimeout(function(){"none"!==t.previousSibling.style.display&&L(t)},4e4),t.setAttribute("src",t.dataset.loadSrc),t.removeAttribute("data-load-src"))}},o.prototype.generateChatbotPrompt=function(t,e){var a=jQuery(e).find("."+t.chatbotAvatarIconName).before(jQuery('<span class="chatbot-prompt" style="display: none;">Need Help?</span>')),o=a.prev(".chatbot-prompt");o.text(t.chatbotPromptText),o.hide().delay(t.chatbotPromptAppearDelay).fadeIn().delay(t.chatbotPromptDisappearDelay).fadeOut(),a.on("click",function(){1===t.chatbotPromptDisappear&&o.stop(!0,!0).fadeOut()})},o.prototype.generateChatbotIcon=function(o,t){var n=this,i=(t="https://"+t)+"/assets/global/chatbot/images/chatbot-avatar.png";jQuery.getJSON(t+"/configuration/chatbot/config.json?v=ASSET_VERSION").done(function(t){var e=document.documentElement.lang;t.hasOwnProperty(e)||(e="en"),t[e].avatarUrl&&""!==t[e].avatarUrl&&(i=t[e].avatarUrl)}).always(function(){var t=o?jQuery(o):jQuery("body>:first-child"),e='<img src="'+i+'" class="'+n.chatbotOptions.chatbotAvatarIconName+' icon-sc-chatbot-avatar-round" id="chatbot-icon">',a=jQuery(['<div class="chatbot-icon-wrapper">',e,"</div>"].join(""));0===t.parent().find(".chatbot-icon-wrapper").length&&(t.before(a),a.find("#chatbot-icon").click(n.openChatbot),1===n.chatbotOptions.chatbotPrompt&&n.generateChatbotPrompt(n.chatbotOptions,a),a.find("."+n.chatbotOptions.chatbotAvatarIconName).css("cursor","pointer"))})},o.prototype.openChatbot=function(){var a,t;(a=document.querySelector(".chatbot-wrapper")).style.opacity=0,a.style.display=t||"block",function t(){var e=parseFloat(a.style.opacity);1<(e+=.1)||(a.style.opacity=e,requestAnimationFrame(t))}(),document.querySelector("body").classList.add("chatbot-open"),document.getElementsByClassName("chatbot-iframe")[0].contentWindow.postMessage("openChatbot","*")},o.prototype.closeChatbot=function(){var e;(e=document.querySelector(".chatbot-wrapper")).style.opacity=1,function t(){(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(t)}(),document.querySelector("body").classList.remove("chatbot-open")};var n=o;a.default=n},{}]},{},[1]);